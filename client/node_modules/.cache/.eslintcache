[{"D:\\React\\cake\\client\\src\\index.js":"1","D:\\React\\cake\\client\\src\\App.js":"2","D:\\React\\cake\\client\\src\\GlobalState.js":"3","D:\\React\\cake\\client\\src\\components\\mainpages\\Pages.js":"4","D:\\React\\cake\\client\\src\\components\\headers\\Header.js":"5","D:\\React\\cake\\client\\src\\api\\CategoriesAPI.js":"6","D:\\React\\cake\\client\\src\\api\\UserAPI.js":"7","D:\\React\\cake\\client\\src\\api\\ProductsAPI.js":"8","D:\\React\\cake\\client\\src\\components\\mainpages\\products\\Products.js":"9","D:\\React\\cake\\client\\src\\components\\mainpages\\auth\\Login.js":"10","D:\\React\\cake\\client\\src\\components\\mainpages\\detailProduct\\DetailProduct.js":"11","D:\\React\\cake\\client\\src\\components\\mainpages\\categories\\Categories.js":"12","D:\\React\\cake\\client\\src\\components\\mainpages\\cart\\Cart.js":"13","D:\\React\\cake\\client\\src\\components\\mainpages\\auth\\Register.js":"14","D:\\React\\cake\\client\\src\\components\\mainpages\\createProduct\\CreateProduct.js":"15","D:\\React\\cake\\client\\src\\components\\mainpages\\utils\\not_found\\NotFound.js":"16","D:\\React\\cake\\client\\src\\components\\mainpages\\products\\Filters.js":"17","D:\\React\\cake\\client\\src\\components\\mainpages\\products\\LoadMore.js":"18","D:\\React\\cake\\client\\src\\components\\mainpages\\utils\\productitem\\Productitem.js":"19","D:\\React\\cake\\client\\src\\components\\mainpages\\utils\\productitem\\BtnRender.js":"20"},{"size":216,"mtime":1665334980628,"results":"21","hashOfConfig":"22"},{"size":431,"mtime":1665409399240,"results":"23","hashOfConfig":"22"},{"size":1115,"mtime":1665676829087,"results":"24","hashOfConfig":"22"},{"size":1507,"mtime":1665686438133,"results":"25","hashOfConfig":"22"},{"size":2182,"mtime":1665733965564,"results":"26","hashOfConfig":"22"},{"size":576,"mtime":1665598404436,"results":"27","hashOfConfig":"22"},{"size":1596,"mtime":1665653810119,"results":"28","hashOfConfig":"22"},{"size":1117,"mtime":1665727164199,"results":"29","hashOfConfig":"22"},{"size":769,"mtime":1665825308565,"results":"30","hashOfConfig":"22"},{"size":1282,"mtime":1665676637322,"results":"31","hashOfConfig":"22"},{"size":1793,"mtime":1665474341362,"results":"32","hashOfConfig":"22"},{"size":2765,"mtime":1665670309395,"results":"33","hashOfConfig":"22"},{"size":2694,"mtime":1665591831328,"results":"34","hashOfConfig":"22"},{"size":1454,"mtime":1665728336483,"results":"35","hashOfConfig":"22"},{"size":6215,"mtime":1665726022624,"results":"36","hashOfConfig":"22"},{"size":209,"mtime":1665419515395,"results":"37","hashOfConfig":"22"},{"size":1880,"mtime":1665726341783,"results":"38","hashOfConfig":"22"},{"size":520,"mtime":1665726400247,"results":"39","hashOfConfig":"22"},{"size":769,"mtime":1665691260090,"results":"40","hashOfConfig":"22"},{"size":985,"mtime":1665729103532,"results":"41","hashOfConfig":"22"},{"filePath":"42","messages":"43","suppressedMessages":"44","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"heapbd",{"filePath":"45","messages":"46","suppressedMessages":"47","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"48","messages":"49","suppressedMessages":"50","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"51","messages":"52","suppressedMessages":"53","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"54","messages":"55","suppressedMessages":"56","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"57"},{"filePath":"58","messages":"59","suppressedMessages":"60","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"61"},{"filePath":"62","messages":"63","suppressedMessages":"64","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"65"},{"filePath":"66","messages":"67","suppressedMessages":"68","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"69"},{"filePath":"70","messages":"71","suppressedMessages":"72","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"73","messages":"74","suppressedMessages":"75","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"76","messages":"77","suppressedMessages":"78","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"79","messages":"80","suppressedMessages":"81","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"82","messages":"83","suppressedMessages":"84","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"85","messages":"86","suppressedMessages":"87","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"88","messages":"89","suppressedMessages":"90","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"91"},{"filePath":"92","messages":"93","suppressedMessages":"94","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"95","messages":"96","suppressedMessages":"97","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"98","messages":"99","suppressedMessages":"100","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"101","messages":"102","suppressedMessages":"103","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"104","messages":"105","suppressedMessages":"106","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"D:\\React\\cake\\client\\src\\index.js",[],[],"D:\\React\\cake\\client\\src\\App.js",[],[],"D:\\React\\cake\\client\\src\\GlobalState.js",[],[],"D:\\React\\cake\\client\\src\\components\\mainpages\\Pages.js",[],[],"D:\\React\\cake\\client\\src\\components\\headers\\Header.js",["107"],[],"import React, {useState, useContext} from 'react'\r\nimport {GlobalState} from '../../GlobalState'\r\nimport Menu from './icon/menu.svg'\r\nimport Close from './icon/close.svg'\r\nimport Cart from './icon/cart.svg'\r\nimport {Link} from 'react-router-dom'\r\nimport axios from 'axios'\r\n\r\n\r\nfunction Header(){\r\n    const state = useContext(GlobalState)\r\n    const [isLogged] = state.userAPI.isLogged\r\n    const [isAdmin] = state.userAPI.isAdmin\r\n    const [cart] = state.userAPI.cart\r\n\r\n     const logoutUser = async() =>{\r\n          await axios.get('/user/logout')\r\n\r\n          localStorage.removeItem('firstLogin')\r\n\r\n          window.location.href = \"/\";\r\n     }\r\n\r\n\r\n    const adminRouter =() =>{\r\n        return (\r\n            <>\r\n            <li><Link to=\"/create_product\">Create Product</Link></li>\r\n            <li><Link to=\"/category\">Categories</Link></li>\r\n            </>\r\n        )\r\n    }\r\n\r\n    const loggedRouter =() =>{\r\n        return (\r\n            <>\r\n           \r\n            <li><Link to=\"/\" onClick={logoutUser}>Logout</Link></li>\r\n            </>\r\n        )\r\n    }\r\n\r\n\r\n\r\n    return (\r\n        <header>\r\n            <div className = \"menu\">\r\n                <img src={Menu} alt=\"\" width=\"30\"/>\r\n            </div>\r\n\r\n            <div className=\"logo\">\r\n                <h1>\r\n                    <Link to=\"/\">{isAdmin ? 'Admin': 'SayCheese'}</Link>\r\n                </h1>\r\n            </div>\r\n\r\n            <ul>\r\n                <li><Link to=\"/\">{isAdmin ? 'Products': 'Shop'}</Link></li>\r\n\r\n                 {isAdmin && adminRouter()}\r\n                 {\r\n                    isLogged ? loggedRouter() : <li><Link to=\"/login\">Login * Register</Link></li>\r\n                 }\r\n\r\n                \r\n                <li>\r\n                    <img src={Close} alt=\" \" width=\"30\" className=\"menu\"/>\r\n                </li>\r\n\r\n            </ul>\r\n            {\r\n                isAdmin ? ''\r\n            \r\n            :<div className =\"cart-icon\">\r\n                <span>{cart.length}</span>\r\n                <Link to=\"/cart\">\r\n                <img src={Cart} alt=\"\" width=\"30\"/>\r\n                </Link>\r\n            </div>\r\n}\r\n        </header>\r\n    )\r\n}\r\n\r\nexport default Header","D:\\React\\cake\\client\\src\\api\\CategoriesAPI.js",["108"],[],"import axios from 'axios'\r\nimport React, {useState, useEffect} from 'react'\r\n\r\nfunction CategoriesAPI(){\r\n    const [categories, setCategories] = useState([])\r\n    const [callback, setCallback] = useState(false)\r\n\r\n    useEffect(()=>{\r\n        const getCategories = async () =>{\r\n            const res = await axios.get('/api/category')\r\n            setCategories(res.data)\r\n        }\r\n        getCategories()\r\n    },[callback])\r\n    return{\r\n        categories: [categories, setCategories],\r\n        callback: [callback, setCallback]\r\n    }\r\n}\r\n\r\nexport default CategoriesAPI","D:\\React\\cake\\client\\src\\api\\UserAPI.js",["109"],[],"import React, {useState, useEffect} from \"react\";\r\nimport axios from 'axios';\r\n\r\n\r\nfunction UserAPI(token){\r\n    const [isLogged, setIsLogged] = useState(false)\r\n    const [isAdmin, setIsAdmin] = useState(false)\r\n    const [cart, setCart] = useState([])\r\n    useEffect(() =>{\r\n        if(token){\r\n            const getUser =  async() =>{\r\n                try{\r\n                     const res = await axios.get('/user/infor',{\r\n                        headers:{Authorization: token}\r\n                     })\r\n                     setIsLogged(true)\r\n                     res.data.role ===1 ? setIsAdmin(true) : setIsAdmin(false)\r\n\r\n                     setCart(res.data.cart)\r\n\r\n                }catch(err){\r\n                   alert(err.response.data.msg) \r\n                }\r\n            }\r\n            getUser()\r\n        }\r\n    },[token])\r\n\r\n\r\n    const addCart = async(product) =>{\r\n        if(!isLogged) return alert(\"Please login to continue buying\")\r\n\r\n        const check = cart.every(item =>{\r\n            return item._id !== product._id\r\n        })\r\n\r\n        if(check){\r\n            setCart([...cart,{...product, quantity:1}])\r\n\r\n            await axios.patch('/user/addcart',{cart:[...cart,{...product, quantity:1}]},{\r\n                headers: {Authorization: token}\r\n            })\r\n\r\n        }else{\r\n            alert(\"This product has been added to cart\")\r\n        }\r\n    }\r\n\r\n\r\n    return {\r\n        isLogged: [isLogged, setIsLogged],\r\n        isAdmin: [isAdmin, setIsAdmin],\r\n        cart: [cart, setCart],\r\n        addCart: addCart\r\n    }\r\n    \r\n    }\r\n\r\n\r\nexport default UserAPI","D:\\React\\cake\\client\\src\\api\\ProductsAPI.js",["110"],[],"import React, {useState, useEffect} from 'react'\r\nimport axios from 'axios'\r\n\r\nfunction ProductsAPI(){\r\n    const [products, setProducts] = useState([])\r\n    const [callback, setCallback] = useState(false)\r\n    const [category, setCategory] = useState('')\r\n    const [sort, setSort] = useState('')\r\n    const [search, setSearch] = useState('')\r\n    const [page, setPage] = useState(1)\r\n    const [result, setResult] = useState(0)\r\n    useEffect(() =>{\r\n        const getProducts = async() =>{\r\n            const res = await axios.get(`/api/products?limit=${page*6}&${category}&${sort}&title[regex]=${search}`)\r\n            setProducts(res.data.products)\r\n            setResult(res.data.result)\r\n        }\r\n    \r\n        getProducts()\r\n    },[callback, category, sort, search, page]\r\n)\r\n\r\n    return {\r\n        products: [products, setProducts],\r\n        callback:[callback, setCallback],\r\n        category:[category, setCategory],\r\n        sort:[sort, setSort],\r\n        page:[page, setPage],\r\n        search:[search, setSearch],\r\n        result:[result, setResult]\r\n    }\r\n    \r\n    }\r\n\r\n\r\nexport default ProductsAPI","D:\\React\\cake\\client\\src\\components\\mainpages\\products\\Products.js",[],[],"D:\\React\\cake\\client\\src\\components\\mainpages\\auth\\Login.js",[],[],"D:\\React\\cake\\client\\src\\components\\mainpages\\detailProduct\\DetailProduct.js",[],[],"D:\\React\\cake\\client\\src\\components\\mainpages\\categories\\Categories.js",[],[],"D:\\React\\cake\\client\\src\\components\\mainpages\\cart\\Cart.js",[],[],"D:\\React\\cake\\client\\src\\components\\mainpages\\auth\\Register.js",[],[],"D:\\React\\cake\\client\\src\\components\\mainpages\\createProduct\\CreateProduct.js",["111"],[],"import React, {useState, useContext, useEffect} from 'react'\r\nimport axios from 'axios'\r\nimport {GlobalState} from '../../../GlobalState'\r\nimport {useNavigate, useParams} from 'react-router-dom'\r\n\r\n\r\nconst initialState ={\r\n    product_id:'',\r\n    title:'',\r\n    price:0,\r\n    description:'Description',\r\n    content:'content',\r\n    category:'',\r\n    _id:''\r\n}\r\n\r\nfunction CreateProduct(){\r\n    const state = useContext(GlobalState)\r\n   const [product, setProduct] = useState(initialState)\r\n    const [categories] = state.categoriesAPI.categories\r\n    const[images, setImages] = useState(false)\r\n\r\n const [isAdmin] = state.userAPI.isAdmin\r\n const [token] = state.token\r\n\r\n const history = useNavigate()\r\n const param = useParams()\r\n\r\n const [products] =state.productsAPI.products \r\n\r\n const [onEdit, setOnEdit] = useState(false)\r\n const [callback, setCallback] = state.productsAPI.products\r\n\r\n\r\n\r\n\r\n useEffect(() =>{\r\n    if(param.id){\r\n        setOnEdit(true)\r\n        products.forEach(product =>{\r\n            if(product._id === param.id){\r\n                setProduct(product)\r\n                setImages(product.images)\r\n            } \r\n         })\r\n      \r\n    }else{\r\n        setOnEdit(false)\r\n        setProduct(initialState)\r\n        setImages(false)\r\n    }\r\n },[param.id,products])\r\n\r\n const handleUpload =async e =>{\r\n        e.preventDefault()\r\n        try{\r\n             if(!isAdmin) return alert(\"You are not an admin\")\r\n             const file = e.target.files[0]\r\n\r\n             if(!file) return alert(\"File not exist\")\r\n\r\n             if(file.size > 1024 * 1024)\r\n                return alert(\"Size too large!\")\r\n\r\n\r\n             if(file.type !== 'image/jpeg' && file.type !== 'image/png')\r\n                return alert(\"File format is incorrect\")\r\n\r\n            let formData = new FormData()\r\n            formData.append('file',file)\r\n\r\n        \r\n           const res = await fetch('/api/upload',{\r\n            method: \"POST\",\r\n            body: formData,\r\n            headers:{\r\n                Authorization: token\r\n            }\r\n           })\r\n           .then(response => response.json())\r\n           .then(json => setImages(json))\r\n            \r\n        }catch(err){\r\n            alert(err.response.data.msg)\r\n        }\r\n }   \r\n\r\n const handleDestroy = async () =>{\r\n    try{\r\n        if(!isAdmin) return alert(\"You're not an admin\")\r\n        await axios.post('/api/destroy',{public_id: images.public_id},{\r\n            headers: {Authorization:token}\r\n        })\r\n\r\n        setImages(false)\r\n    } catch(err){\r\n        alert(err.response.data.msg)\r\n    }\r\n }\r\nconst handleChangeInput =e =>{\r\n    const {name, value} = e.target\r\n    setProduct({...product, [name]: value})\r\n}\r\n\r\nconst handleSubmit = async e =>{\r\n      e.preventDefault()\r\n      try{\r\n           if(!isAdmin) return alert(\"You're not an admin\")\r\n           if(!images) return alert('No Image Upload')\r\n\r\n           if(onEdit){\r\n            await axios.put(`/api/products/${product._id}`,{...product,images},{\r\n                headers: {Authorization:token}\r\n               })\r\n           }else{\r\n            await axios.post('/api/products',{...product,images},{\r\n                headers: {Authorization:token}\r\n               })\r\n           }\r\n           setCallback(!callback)\r\n           setImages(false)\r\n           setProduct(initialState)\r\n           \r\n           history(\"/\")\r\n      }catch(err){\r\n        alert(err.response.data.msg)\r\n      }\r\n}\r\n\r\n const styleUpload={\r\n    display:images ? \"block\" : \"none\"\r\n }\r\n    return(\r\n        <div className=\"create_product\">\r\n        <div className=\"upload\">\r\n            <input type=\"file\" name=\"file\" id=\"file_up\" onChange={handleUpload}/>\r\n            <div id=\"file_img\" style={styleUpload}>\r\n                <img src={images.url} alt=\"\"/>\r\n                <span onClick={handleDestroy}>X</span>\r\n\r\n            </div>\r\n            </div>\r\n            <form onSubmit={handleSubmit}>\r\n                <div className=\"row\">\r\n                    <label htmlFor=\"product_id\"> Product ID</label>\r\n                    <input type=\"text\" name=\"product_id\" id=\"product_id\" required\r\n                    value = {product.product_id} onChange={handleChangeInput} disabled={onEdit} />\r\n\r\n                </div>\r\n\r\n                <div className=\"row\">\r\n                    <label htmlFor=\"title\"> Title</label>\r\n                    <input type=\"text\" name=\"title\" id=\"title\" required\r\n                    value = {product.title} onChange={handleChangeInput}/>\r\n\r\n                </div>\r\n\r\n                <div className=\"row\">\r\n                    <label htmlFor=\"price\"> Price</label>\r\n                    <input type=\"number\" name=\"price\" id=\"price\" required\r\n                    value = {product.price} onChange={handleChangeInput}/>\r\n\r\n                </div>\r\n\r\n                <div className=\"row\">\r\n                    <label htmlFor=\"description\">Description</label>\r\n                    <textarea type=\"text\" name=\"description\" id=\"description\" required\r\n                    value = {product.description} rows=\"5\" onChange={handleChangeInput}/>\r\n                </div>\r\n\r\n                <div className=\"row\">\r\n                    <label htmlFor=\"content\">Content</label>\r\n                    <textarea type=\"text\" name=\"content\" id=\"content\" required\r\n                    value = {product.content} rows=\"7\" onChange={handleChangeInput}/>\r\n                </div>\r\n                <div className=\"row\">\r\n                    <label htmlFor=\"categories\">Categories:</label>\r\n                    <select name=\"category\" value={product.category} onChange={handleChangeInput}>\r\n                        <option value=\"\">Please select a category</option>\r\n                        {\r\n                            categories.map(category =>(\r\n                                <option value={category._id} key={category._id}>\r\n                                      {category.name}\r\n                                </option>\r\n                            ))\r\n                        }\r\n                    </select>\r\n\r\n                </div>\r\n               <button type=\"submit\">{onEdit ? \"Update\":\"Create\"}</button>\r\n            </form>\r\n      </div>\r\n\r\n    )\r\n}\r\n\r\nexport default CreateProduct","D:\\React\\cake\\client\\src\\components\\mainpages\\utils\\not_found\\NotFound.js",[],[],"D:\\React\\cake\\client\\src\\components\\mainpages\\products\\Filters.js",[],[],"D:\\React\\cake\\client\\src\\components\\mainpages\\products\\LoadMore.js",[],[],"D:\\React\\cake\\client\\src\\components\\mainpages\\utils\\productitem\\Productitem.js",[],[],"D:\\React\\cake\\client\\src\\components\\mainpages\\utils\\productitem\\BtnRender.js",[],[],{"ruleId":"112","severity":1,"message":"113","line":1,"column":16,"nodeType":"114","messageId":"115","endLine":1,"endColumn":24},{"ruleId":"112","severity":1,"message":"116","line":2,"column":8,"nodeType":"114","messageId":"115","endLine":2,"endColumn":13},{"ruleId":"112","severity":1,"message":"116","line":1,"column":8,"nodeType":"114","messageId":"115","endLine":1,"endColumn":13},{"ruleId":"112","severity":1,"message":"116","line":1,"column":8,"nodeType":"114","messageId":"115","endLine":1,"endColumn":13},{"ruleId":"112","severity":1,"message":"117","line":73,"column":18,"nodeType":"114","messageId":"115","endLine":73,"endColumn":21},"no-unused-vars","'useState' is defined but never used.","Identifier","unusedVar","'React' is defined but never used.","'res' is assigned a value but never used."]